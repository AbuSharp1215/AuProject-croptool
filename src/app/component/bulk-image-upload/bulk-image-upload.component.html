<div [style.display] = "isLoading?'':'none'" 
  style="background-color:#0b0b0b47; height: 100%; width: 100%; position: fixed; text-align: center; z-index: 1000;">
  <mat-spinner style="margin-top: 25%; margin-left: 50%;" diameter="40"></mat-spinner>
</div>

<mat-toolbar  class="blue">
    <button mat-icon-button class="icon" aria-label="icon-button with home icon">
        <mat-icon>home</mat-icon>
    </button>
    <span>Manager</span>
    <span class="spacer"></span>
    <button (click)="logout()" mat-icon-button class="icon favorite-icon" aria-label="icon-button with home icon">
      <mat-icon>logout</mat-icon>
    </button>
    <button (click)="logout()" mat-icon-button class="icon favorite-icon" aria-label="icon-button with home icon">
      Logout
    </button>
</mat-toolbar>
<nav class="navbar navbar-expand-sm navbar-light">
  <a class="navbar-brand" href="#">Welcome</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="collapsibleNavbar">
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" routerLink="/manager/selfupload" routerLinkActive="active">Self Upload</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/manager/bulkupload" routerLinkActive="active">Bulk Upload</a>
    </li>
  </ul>
  </div>
</nav>

<div>
    <div class="container-fluid ">
      <div class="row mt-4">
        <div class="col-md-12">
            <mat-card >
              <mat-card-title >Image editing options</mat-card-title>
              
              
              <ng-container *ngFor="let item of bulkImageArray;let i=index">
            <div class="row" >
              <div class="col-md-12">
                  <!-- <input type="file" (change)="onFileChanged($event)"> -->
                  <div class="row mt-2">
                    <div class="col-md-2 mt-2">
                        <!-- <input type="text" [(ngModel)]="item.fileName" /> -->
                        <mat-form-field  class="w100">
                            <mat-label>Employee Id</mat-label>
                            <mat-select (selectionChange) = "getSelected($event)" [(ngModel)]="item.employeeId">
                              <mat-option *ngFor= "let employeeId of employeeIds" [value] ="employeeId" >{{employeeId}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                    </div>
                    <div class="col-md-3 mt-2">
                      <input [disabled]="item.retrivedImage" type="file" (change)="onFileChanged($event,item)" />
                    </div>
                    <div class="col-md-2">
                      <img [src]="item.imageFileData" [style.border]="item.imageFileData ? '1px solid black' : 'none'" width="100%" />
                    </div>
                    <div class="col-md-2">
                      <img [src]="item.retrivedImage" [style.border]="item.retrivedImage ? '1px solid black' : 'none'" width="100%" />
                    </div>
                    
                    <div class="col-md-1 mt-2">
                        
                        <div class="button-container">
            
                            <button class="btn btn-primary round" (click)="openDialog(item)" aria-label="icon button with a edit icon">
                              <mat-icon class="icon-size">edit</mat-icon>
                            </button>
                        </div>
                      </div>
                   
                      <div class="col-md-1 mt-2">
                        <div class="button-container">
            
                            <button class="btn btn-primary round"(click)="deleteEmptyRow(i)" aria-label="icon button with a delete icon">
                              <mat-icon class="icon-size">delete</mat-icon>
                            </button>
                        </div>
                        
                      </div>
                      <div class="col-md-1 mt-2">
                        <div class="button-container">
            
                            <button class="btn btn-primary round" (click)="download(i,item)" [style.display]="item.retrivedImage ? 'block' : 'none'" aria-label="icon button with a delete icon">
                              <mat-icon class="icon-size">download</mat-icon>
                            </button>
                        </div>
                        
                      </div>
                  </div>
                </div>
           </div>
           
           
        </ng-container>
        <div class="row mt-2">
          <div class="col-md-1 mt-2">
            <div class="button-container">
              <button class="btn btn-primary round" (click)="addEmptyRow()" aria-label="icon button with a plus one icon">
                <mat-icon class="icon-size">plus_one</mat-icon>
              </button>
            </div>
          </div>
          <div class="col-md-2 mt-3">
            <button (click)="saveData()" class="w100 btn btn-primary" >Upload</button>
          </div>
        </div>
        <!-- <button  mat-raised-button class="w100 mt-3" color="primary" (click)="addEmptyRow()">Add</button> -->
                  </mat-card>
            </div>
        </div>
    </div>
</div>
